# Dense Label Encoding for Boundary Discontinuity Free Rotation Detection

> Xue Yang, CVPR2021

|Model|mAP|Conference|Recommond|
|--|--|--|--|
|DCL|77.37|CVPR2021|:white_check_mark:|

探索了一种相对较少研究的基于分类的方法。希望从本质上消除基于回归的检测器所遇到的边界不连续性问题

提出了在两个方面推动其前沿的新技术：

- 新的编码机制：设计用于角度分类的两个密集编码标签（DCL），以取代现有基于分类的检测器中的稀疏编码标签（SCL），导致训练速度提高三倍，这是在基准测试中经验观察到的，进一步显著提高了检测精度
- 损失重加权：我们提出了角度距离和纵横比敏感加权（ADARSW），通过使基于DCL的检测器对角度距离和物体的纵横比敏感，提高了检测精度，尤其是对方形物体

---

基于回归的角度预测通常会引入边界不连续性，主要包括角度的周期性（PoA）和边缘的可交换性（EoE）。前者的主要原因是角度参数的有界周期性，而后者与边界框的定义有关。

根本原因是理想预测超出了定义的范围。由于边界处的损失急剧增加，模型在边界和非边界处的回归形式不可能一致。因此，模型必须在边界处以更复杂的形式预测角度，这增加了模型的负担，也增加了边界处预测的难度。这对于需要高精度的旋转对象检测是致命的，尤其是对于具有大纵横比的对象。

大多数现有的工作旨在通过增加损失函数的约束或改变计算方式来消除突然的损失增加，如表1所示，如IoU Smooth L1 Loss和Modulated Loss。其优点是，他们可以从水平目标检测器借用完善的基线，并重用相关技术来提高检测性能。然而，这种应用于基于回归的检测器的特殊技术不能保证完全消除边界不连续行为

Circular Smooth Label = CSL

CSL 主张应用角度分类而不是回归来解决PoA;基于CSL的方法与长边定义（五参数，180◦ 角度范围），以进一步解决EoE问题

首先，设计了两个密集编码标签（DCL），与稀疏编码标签（SCL，包括CSL，一个热编码）形成对比，根据经验，稀疏编码标签显著减少了训练时间，同时提高了检测精度。为了使DCL与CSL一样对角度距离敏感，计算预测角度和角度标签之间的十进制差作为角度距离感知权重。然而，该权重将重新引入PoA问题，发现长边定义方法不利于方形对象的训练。基于上述两个问题的结果，设计了角度距离和纵横比敏感加权（ADARSW）。ADARSW可以消除PoA，并且可以根据对象的纵横比自适应调整，这可以大大减少模型训练的负担。DCL+180◦+ADAESW,总体而言，对不同数据集和检测器的大量实验和视觉分析证明，基于DCL的方法比基于角度回归和基于CSL的方法更适合作为基线选择

1. 为了提高鲁棒性，特别是对于具有小纵横比的对象，提出了角度距离和纵横比敏感加权（ADARSW），通过使我们提出的基于DCL的检测器对角度距离和对象纵横比敏感，进一步提高了精度

2. 通过将两种经典的密集编码标签（DCL）引入角度分类任务，比较它们的影响，以实现潜在的加速，即二进制编码标签（BCL）和灰色编码标签（GCL），这两种标签比现有的CSL更紧凑。尽管对GCL进行了部分研究，但本文对BCL进行了更深入的研究。经验表明，DCL，特别是BCL，可以显著提高训练速度（大约三倍）和检测精度

