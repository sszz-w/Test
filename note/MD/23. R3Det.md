# R3Det: Refined Single-Stage Detector with Feature Refinementfor Rotating Object

> Xue Yang, ECCV2020

|Model|mAP|Conference|Recommond|
|--|--|--|--|
|$R^3$Det|76.47|ECCV2020|:white_check_mark:|

提出了一种端到端改进的单级旋转检测器，通过使用从粗粒度到细粒度的逐步回归方法来快速准确地检测目标。

考虑到现有改进的单级检测器中特征未对准的缺点，设计了一个特征细化模块，通过获得更精确的特征来提高检测性能。

特征细化模块的核心思想是通过逐像素特征插值将当前细化边界框的位置信息重新编码到相应的特征点，实现特征重构和对齐。

为了更精确地估计旋转，提出了一种近似的SkewIoU损耗，以解决SkewIoU的计算不可导出的问题

---

挑战：

1. 大纵横比。大纵横比对象之间的斜交对并集（SkewIoU）分数对角度变化很敏感

2. 密集排列的。许多对象通常以密集排列的形式出现

3. 任意方向。图像中的对象可能出现在各种方向，这要求检测器具有精确的方向估计能力

为了保持大纵横比物体的高检测精度和速度，我们采用了改进的单级旋转检测器。

首先，发现旋转锚可以在密集场景中表现得更好，而水平锚可以以较少的数量实现更高的召回率。因此，在改进的单级检测器中采用了从粗到细的逐步回归形式，即在第一阶段使用水平锚，以更快的速度和更高的召回率，在第二阶段的细化阶段中使用改进的旋转锚，以适应密集场景。

现有的改进单级检测器存在特征未对准问题，这大大限制了改进阶段分类和回归的可靠性。设计了一个特征细化模块FRM，该模块使用特征插值来获得与细化锚对应的位置信息，并以逐像素方式重构整个特征图以实现特征对齐。FRM还可以在第一阶段之后减少细化边界框的数量，从而加快模型的速度

1. 对于大宽高比目标检测，以精确的方式设计了精确快速旋转单级检测器，以实现高精度检测；对于大宽高比目标检测，以精确的方式设计了精确快速旋转单级检测器，以实现高精度检测

2. 对于密集排列的对象，粗到细渐进回归方法，以更灵活的方式更好地探索两种锚定形式，适合每个检测阶段

3. 对于任意旋转的物体，设计了一种可导出的近似SkewIoU损耗，以实现更精确的旋转估计。与最近的工作中的SkewIoU损耗过近似相比，我们的方法保留了精确的SkewIoU振幅，并且仅近似SkewIoU损耗的梯度方向。